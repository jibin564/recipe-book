import{a as B,b as q}from"./chunk-HVURZUUM.js";import{b as P}from"./chunk-3ZSC7TCC.js";import{a as l}from"./chunk-ONO2FOHX.js";import{D as u,E as m,J as d,L as x,M as o,N as n,O as f,P as b,R as _,S as w,V as a,fa as L,ha as A,j as y,ja as H,k as M,ka as R,la as T,ma as j,o as k,oa as E,p as s,qa as N,r as D,ra as F,s as g,sa as V,t as p,ta as I,ua as O,va as z,w as S,x as C,za as G}from"./chunk-6DLZKMEL.js";function ee(t,e){t&1&&(o(0,"li",7)(1,"a",12),a(2,"Recipes"),n()())}function te(t,e){t&1&&(o(0,"li",7)(1,"a",13),a(2,"Authenticate"),n()())}function ie(t,e){if(t&1){let v=b();o(0,"li")(1,"a",14),_("click",function(){S(v);let i=w();return C(i.onLogout())}),a(2,"Logout"),n()()}}function re(t,e){if(t&1){let v=b();o(0,"li",15)(1,"a",16),a(2,"Manage "),f(3,"span",17),n(),o(4,"ul",18)(5,"li")(6,"a",14),_("click",function(){S(v);let i=w();return C(i.onSaveData())}),a(7,"Save Data"),n()(),o(8,"li")(9,"a",14),_("click",function(){S(v);let i=w();return C(i.onFetchData())}),a(10,"Fetch Data"),n()()()()}}var K=(()=>{let e=class e{constructor(r,i){this.dataStorageService=r,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(r=>{this.isAuthenticated=!!r})}onSaveData(){this.dataStorageService.storeRecipes()}onFetchData(){this.dataStorageService.fetchRecipes().subscribe()}onLogout(){this.authService.logout()}ngOnDestroy(){this.userSub.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(m(q),m(l))},e.\u0275cmp=g({type:e,selectors:[["app-header"]],decls:15,vars:4,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["href","#",1,"navbar-brand"],[1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],["routerLinkActive","active",4,"ngIf"],["routerLinkActive","active"],["routerLink","/shopping-list"],[1,"nav","navbar-nav","navbar-right"],[4,"ngIf"],["class","dropdown","appDropdown","",4,"ngIf"],["routerLink","/recipes"],["routerLink","/auth"],[2,"cursor","pointer",3,"click"],["appDropdown","",1,"dropdown"],["role","button",1,"dropdown-toggle",2,"cursor","pointer"],[1,"caret"],[1,"dropdown-menu"]],template:function(i,c){i&1&&(o(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),a(4,"Recipe Book"),n()(),o(5,"div",4)(6,"ul",5),x(7,ee,3,0,"li",6)(8,te,3,0,"li",6),o(9,"li",7)(10,"a",8),a(11,"Shopping List"),n()()(),o(12,"ul",9),x(13,ie,3,0,"li",10)(14,re,11,0,"li",11),n()()()()),i&2&&(u(7),d("ngIf",c.isAuthenticated),u(1),d("ngIf",!c.isAuthenticated),u(5),d("ngIf",c.isAuthenticated),u(1),d("ngIf",c.isAuthenticated))},dependencies:[L,N,F,z],encapsulation:2});let t=e;return t})();var Q=(()=>{let e=class e{constructor(r,i){this.authService=r,this.loggingService=i}ngOnInit(){this.authService.autoLogin(),this.loggingService.printLog("Hello from AppComponent ngOnInit")}};e.\u0275fac=function(i){return new(i||e)(m(l),m(O))},e.\u0275cmp=g({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(i,c){i&1&&(f(0,"app-header"),o(1,"div",0)(2,"div",1)(3,"div",2),f(4,"router-outlet"),n()()())},dependencies:[E,K]});let t=e;return t})();var ne=[{path:"",redirectTo:"/recipes",pathMatch:"full"},{path:"recipes",loadChildren:()=>import("./chunk-WBAPHVXZ.js").then(t=>t.RecipesModule)},{path:"shopping-list",loadChildren:()=>import("./chunk-BH5WMBJ3.js").then(t=>t.ShoppingListModule)},{path:"auth",loadChildren:()=>import("./chunk-64E43TEU.js").then(t=>t.AuthModule)}],U=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=s({imports:[I.forRoot(ne,{preloadingStrategy:V,useHash:!0}),I]});let t=e;return t})();var W=(()=>{let e=class e{constructor(r){this.authService=r}intercept(r,i){return this.authService.user.pipe(y(1),M(c=>{if(!c)return i.handle(r);let Z=r.clone({params:new A().set("auth",c.token)});return i.handle(Z)}))}};e.\u0275fac=function(i){return new(i||e)(D(l))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var X=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=s({providers:[P,B,{provide:H,useClass:W,multi:!0}]});let t=e;return t})();var Y=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e,bootstrap:[Q]}),e.\u0275inj=s({imports:[j,R,U,G,X]});let t=e;return t})();T().bootstrapModule(Y).catch(t=>console.error(t));
